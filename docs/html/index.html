<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>widget library: Widget Base Class</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">widget library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Widget Base Class </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The Widget base class provides core foundation for UI widgets with basic state management, positioning, and rendering capabilities. This is a simplified version where advanced functionality like signal/slot communication, event handling, and animations should be derived from the relevant classes.</p>
<h1 class="doxsection"><a class="anchor" id="lifecycle_sec"></a>
Overview &amp; Lifecycle</h1>
<p>Widgets exist on a single RenderWindow and should be managed by pointers that are dynamically created on the heap using "new" or smart pointers (never copied or moved) and freed in the destructor of the class where they are created.</p>
<p>The typical lifecycle is:</p>
<ol type="1">
<li>Construction: Widget created with parent window reference</li>
<li>Initialization: Size, position, and appearance set up</li>
<li>Active use: Drawing occurs each frame</li>
<li>Destruction: Virtual destructor called, cleanup performed</li>
</ol>
<p>Each frame, widgets should call draw() to render to the parent window.</p>
<h1 class="doxsection"><a class="anchor" id="state_sec"></a>
State Management</h1>
<h2 class="doxsection"><a class="anchor" id="states_subsec"></a>
State Enums</h2>
<p>The base Widget class defines a basic State enum with three states:</p>
<ul>
<li>DEFAULT: Widget is active and visible</li>
<li>HIDDEN: Widget is not rendered</li>
<li>HOVERING: Mouse over the widget</li>
<li>TYPING: Widget is receiving text input</li>
</ul>
<p>If new states are discovered then they should be added to this base class to be usable for all widgets to obtain a comprehensive list like the signals/slots. Also any new states added should also be extended in the state_to_str(State) function.</p>
<h2 class="doxsection"><a class="anchor" id="transitions_subsec"></a>
State Transitions</h2>
<p>The change_state(State) method handles state transitions. It automatically prevents redundant state changes (if already in the target state, nothing happens). Derived classes should, if needed, create widget specific state transition methods that call change_state(State) and perform any visual updates.</p>
<h1 class="doxsection"><a class="anchor" id="drawing_sec"></a>
Drawing &amp; Updates</h1>
<h2 class="doxsection"><a class="anchor" id="draw_subsec"></a>
Draw Method</h2>
<p>Override draw() to render the widget. The base implementation:</p>
<ol type="1">
<li>Checks if in HIDDEN state, if so, returns without drawing</li>
<li>Calls _update_widget() for final pre draw updates</li>
<li>Logs a warning if not overridden</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="update_subsec"></a>
Update Widget</h2>
<p>The protected _update_widget() method is called just before drawing and should perform any final calculations or state updates. Use this for:</p>
<ul>
<li>Recalculating positions</li>
<li>Refreshing text content</li>
<li>Syncing with external data</li>
<li>Other pre render adjustments</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="position_sec"></a>
Position &amp; Size Management</h1>
<p>The base class provides virtual setters and getters for position, size, scale, and origin. All have default empty implementations, so override only what your widget needs.</p>
<p>Some widgets may support size, others scale, or both. The base class doesn't enforce which to implement so use what makes sense for your widget type.</p>
<p>Note: For consistent scaling behavior, it's recommended to handle scaling calculations (based on render window size) outside these functions to avoid double scaling issues.</p>
<h1 class="doxsection"><a class="anchor" id="ownership_sec"></a>
Rule of 5 &amp; Ownership</h1>
<p>Widgets are NOT copyable or moveable:</p>
<ul>
<li>No copy constructor</li>
<li>No copy assignment</li>
<li>No move constructor</li>
<li>No move assignment</li>
</ul>
<p>This is intentional. Widgets should ONLY be managed as pointers or references, never copied or moved. Always create widgets with new and manage them via smart pointers or delete manually in destructors if using raw pointers. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
